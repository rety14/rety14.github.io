(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["main"],{"009a":function(t,e,n){"use strict";n("ca69")},"0cb2":function(t,e,n){var o=n("7b0b"),i=Math.floor,r="".replace,s=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,a=/\$([$&'`]|\d{1,2})/g;t.exports=function(t,e,n,c,u,l){var d=n+t.length,f=c.length,v=a;return void 0!==u&&(u=o(u),v=s),r.call(l,v,(function(o,r){var s;switch(r.charAt(0)){case"$":return"$";case"&":return t;case"`":return e.slice(0,n);case"'":return e.slice(d);case"<":s=u[r.slice(1,-1)];break;default:var a=+r;if(0===a)return o;if(a>f){var l=i(a/10);return 0===l?o:l<=f?void 0===c[l-1]?r.charAt(1):c[l-1]+r.charAt(1):o}s=c[a-1]}return void 0===s?"":s}))}},"14c3":function(t,e,n){var o=n("c6b6"),i=n("9263");t.exports=function(t,e){var n=t.exec;if("function"===typeof n){var r=n.call(t,e);if("object"!==typeof r)throw TypeError("RegExp exec method returned something other than an Object or null");return r}if("RegExp"!==o(t))throw TypeError("RegExp#exec called on incompatible receiver");return i.call(t,e)}},"15a4":function(t,e,n){"use strict";var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"todo"},[t.list.length?n("transition-group",{attrs:{name:"fade",tag:"div"}},t._l(t.list,(function(e,o){return n("form",{key:e.id,staticClass:"todo__item",on:{submit:function(e){return e.preventDefault(),t.editOff()}}},[n("label",{staticClass:"todo__label",class:{disabled:t.disabled}},[n("input",{staticClass:"todo__check",attrs:{type:"checkbox",disabled:t.disabled},domProps:{checked:e.done},on:{change:function(n){return t.change(e,"done",!e.done)}}}),n("div",{staticClass:"todo__title",class:{title_hide:o===t.edited}},[t._v(t._s(e.title))]),o===t.edited?n("input",{ref:"field"+e.id,refInFor:!0,staticClass:"todo__field field",attrs:{type:"text"},domProps:{value:e.title},on:{change:function(n){return t.change(e,"title",n.target.value)}}}):t._e()]),t.disabled?t._e():n("button",{staticClass:"todo__edit btn_edit btn_ico",attrs:{type:"button"},on:{click:function(n){return t.edit(e,o)}}},[n("SvgIco",{attrs:{name:"edit"}})],1),t.disabled?t._e():n("button",{staticClass:"btn_remove btn_ico",attrs:{type:"button"},on:{click:function(n){return t.$emit("remove",e.id)}}},[n("SvgIco",{attrs:{name:"remove"}})],1)])})),0):n("div",{staticClass:"empty-info"},[t._v(" Пока не добавлено ни одной задачи ")])],1)},i=[],r=n("5b40"),s={name:"TodoItems",components:{SvgIco:r["a"]},props:{list:{type:Array,required:!0},disabled:Boolean},data:function(){return{edited:-1}},mounted:function(){document.addEventListener("editOff",this.editOff)},destroyed:function(){document.removeEventListener("editOff",this.editOff)},methods:{change:function(t,e,n){this.$emit("change",{id:t.id,prop:e,val:n})},edit:function(t,e){var n=this;this.edited!==e?(this.edited=e,setTimeout((function(){return n.$refs["field"+t.id][0].focus()}))):this.editOff()},editOff:function(){this.edited=-1}}},a=s,c=(n("33c7"),n("2877")),u=Object(c["a"])(a,o,i,!1,null,null,null);e["a"]=u.exports},"2dd2":function(t,e,n){"use strict";n.r(e),e["default"]={id:"edit-usage",viewBox:"0 0 22 22",url:n.p+"img/svg.b88bce.svg#edit",toString:function(){return this.url}}},"33c7":function(t,e,n){"use strict";n("606f")},4555:function(t,e,n){var o={"./arrow-redo.svg":"c62d","./arrow-undo.svg":"eec0","./arrow.svg":"d4d9","./close.svg":"bb7c","./dots.svg":"aea1","./edit.svg":"2dd2","./plus.svg":"4eb1","./remove.svg":"a5b0","./save.svg":"bc10"};function i(t){var e=r(t);return n(e)}function r(t){if(!n.o(o,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return o[t]}i.keys=function(){return Object.keys(o)},i.resolve=r,t.exports=i,i.id="4555"},"457c":function(t,e,n){"use strict";n("afcc")},"47a1":function(t,e,n){"use strict";n("ace5")},"498a":function(t,e,n){"use strict";var o=n("23e7"),i=n("58a8").trim,r=n("c8d2");o({target:"String",proto:!0,forced:r("trim")},{trim:function(){return i(this)}})},"4eb1":function(t,e,n){"use strict";n.r(e),e["default"]={id:"plus-usage",viewBox:"0 0 16 16",url:n.p+"img/svg.b88bce.svg#plus",toString:function(){return this.url}}},5319:function(t,e,n){"use strict";var o=n("d784"),i=n("825a"),r=n("50c4"),s=n("a691"),a=n("1d80"),c=n("8aa5"),u=n("0cb2"),l=n("14c3"),d=Math.max,f=Math.min,v=function(t){return void 0===t?t:String(t)};o("replace",2,(function(t,e,n,o){var h=o.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,p=o.REPLACE_KEEPS_$0,m=h?"$":"$0";return[function(n,o){var i=a(this),r=void 0==n?void 0:n[t];return void 0!==r?r.call(n,i,o):e.call(String(i),n,o)},function(t,o){if(!h&&p||"string"===typeof o&&-1===o.indexOf(m)){var a=n(e,t,this,o);if(a.done)return a.value}var b=i(t),g=String(this),_="function"===typeof o;_||(o=String(o));var y=b.global;if(y){var x=b.unicode;b.lastIndex=0}var C=[];while(1){var S=l(b,g);if(null===S)break;if(C.push(S),!y)break;var E=String(S[0]);""===E&&(b.lastIndex=c(g,r(b.lastIndex),x))}for(var I="",k=0,w=0;w<C.length;w++){S=C[w];for(var T=String(S[0]),$=d(f(s(S.index),g.length),0),N=[],A=1;A<S.length;A++)N.push(v(S[A]));var O=S.groups;if(_){var R=[T].concat(N,$,g);void 0!==O&&R.push(O);var L=String(o.apply(void 0,R))}else L=u(T,g,$,N,O,o);$>=k&&(I+=g.slice(k,$)+L,k=$+T.length)}return I+g.slice(k)}]}))},5899:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,e,n){var o=n("1d80"),i=n("5899"),r="["+i+"]",s=RegExp("^"+r+r+"*"),a=RegExp(r+r+"*$"),c=function(t){return function(e){var n=String(o(e));return 1&t&&(n=n.replace(s,"")),2&t&&(n=n.replace(a,"")),n}};t.exports={start:c(1),end:c(2),trim:c(3)}},"5b40":function(t,e,n){"use strict";var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("svg",[n("use",{attrs:{"xlink:href":t.path}})])},i=[],r=(n("b0c0"),{props:{name:{type:String,required:!0}},computed:{path:function(){var t=n("4555")("./".concat(this.name,".svg")).default;return Object.prototype.hasOwnProperty.call(t,"default")&&(t=t.default),t.url}}}),s=r,a=n("2877"),c=Object(a["a"])(s,o,i,!1,null,null,null);e["a"]=c.exports},"606f":function(t,e,n){},7156:function(t,e,n){var o=n("861d"),i=n("d2bb");t.exports=function(t,e,n){var r,s;return i&&"function"==typeof(r=e.constructor)&&r!==n&&o(s=r.prototype)&&s!==n.prototype&&i(t,s),t}},"8aa5":function(t,e,n){"use strict";var o=n("6547").charAt;t.exports=function(t,e,n){return e+(n?o(t,e).length:1)}},9263:function(t,e,n){"use strict";var o=n("ad6d"),i=n("9f7f"),r=n("5692"),s=RegExp.prototype.exec,a=r("native-string-replace",String.prototype.replace),c=s,u=function(){var t=/a/,e=/b*/g;return s.call(t,"a"),s.call(e,"a"),0!==t.lastIndex||0!==e.lastIndex}(),l=i.UNSUPPORTED_Y||i.BROKEN_CARET,d=void 0!==/()??/.exec("")[1],f=u||d||l;f&&(c=function(t){var e,n,i,r,c=this,f=l&&c.sticky,v=o.call(c),h=c.source,p=0,m=t;return f&&(v=v.replace("y",""),-1===v.indexOf("g")&&(v+="g"),m=String(t).slice(c.lastIndex),c.lastIndex>0&&(!c.multiline||c.multiline&&"\n"!==t[c.lastIndex-1])&&(h="(?: "+h+")",m=" "+m,p++),n=new RegExp("^(?:"+h+")",v)),d&&(n=new RegExp("^"+h+"$(?!\\s)",v)),u&&(e=c.lastIndex),i=s.call(f?n:c,m),f?i?(i.input=i.input.slice(p),i[0]=i[0].slice(p),i.index=c.lastIndex,c.lastIndex+=i[0].length):c.lastIndex=0:u&&i&&(c.lastIndex=c.global?i.index+i[0].length:e),d&&i&&i.length>1&&a.call(i[0],n,(function(){for(r=1;r<arguments.length-2;r++)void 0===arguments[r]&&(i[r]=void 0)})),i}),t.exports=c},"9f7f":function(t,e,n){"use strict";var o=n("d039");function i(t,e){return RegExp(t,e)}e.UNSUPPORTED_Y=o((function(){var t=i("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),e.BROKEN_CARET=o((function(){var t=i("^r","gy");return t.lastIndex=2,null!=t.exec("str")}))},a5b0:function(t,e,n){"use strict";n.r(e),e["default"]={id:"remove-usage",viewBox:"0 0 20 24",url:n.p+"img/svg.b88bce.svg#remove",toString:function(){return this.url}}},a9e3:function(t,e,n){"use strict";var o=n("83ab"),i=n("da84"),r=n("94ca"),s=n("6eeb"),a=n("5135"),c=n("c6b6"),u=n("7156"),l=n("c04e"),d=n("d039"),f=n("7c73"),v=n("241c").f,h=n("06cf").f,p=n("9bf2").f,m=n("58a8").trim,b="Number",g=i[b],_=g.prototype,y=c(f(_))==b,x=function(t){var e,n,o,i,r,s,a,c,u=l(t,!1);if("string"==typeof u&&u.length>2)if(u=m(u),e=u.charCodeAt(0),43===e||45===e){if(n=u.charCodeAt(2),88===n||120===n)return NaN}else if(48===e){switch(u.charCodeAt(1)){case 66:case 98:o=2,i=49;break;case 79:case 111:o=8,i=55;break;default:return+u}for(r=u.slice(2),s=r.length,a=0;a<s;a++)if(c=r.charCodeAt(a),c<48||c>i)return NaN;return parseInt(r,o)}return+u};if(r(b,!g(" 0o1")||!g("0b1")||g("+0x1"))){for(var C,S=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof S&&(y?d((function(){_.valueOf.call(n)})):c(n)!=b)?u(new g(x(e)),n,S):x(e)},E=o?v(g):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),I=0;E.length>I;I++)a(g,C=E[I])&&!a(S,C)&&p(S,C,h(g,C));S.prototype=_,_.constructor=S,s(i,b,S)}},ac1f:function(t,e,n){"use strict";var o=n("23e7"),i=n("9263");o({target:"RegExp",proto:!0,forced:/./.exec!==i},{exec:i})},ace5:function(t,e,n){},ad6d:function(t,e,n){"use strict";var o=n("825a");t.exports=function(){var t=o(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},aea1:function(t,e,n){"use strict";n.r(e),e["default"]={id:"dots-usage",viewBox:"0 0 18 4",url:n.p+"img/svg.b88bce.svg#dots",toString:function(){return this.url}}},aedc:function(t,e,n){"use strict";n("c1ad")},afcc:function(t,e,n){},b84a:function(t,e,n){"use strict";var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("form",{staticClass:"create",on:{submit:function(e){return e.preventDefault(),t.create()}}},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.value,expression:"value"}],staticClass:"create__field field",class:{err:t.error},attrs:{type:"text",placeholder:t.placeholder,maxlength:t.maxlength},domProps:{value:t.value},on:{input:[function(e){e.target.composing||(t.value=e.target.value)},function(e){t.error=!1}]}}),n("button",{staticClass:"create__btn btn btn_color_violet"},[n("SvgIco",{attrs:{name:"plus"}}),t._v("Добавить ")],1)])},i=[],r=(n("a9e3"),n("498a"),n("5b40")),s={name:"Create",components:{SvgIco:r["a"]},props:{placeholder:{type:String,required:!0},maxlength:{type:Number,default:null}},data:function(){return{value:"",error:!1}},methods:{create:function(){this.value.trim()?(this.$emit("action",this.value),this.value=""):this.error=!0}}},a=s,c=(n("457c"),n("2877")),u=Object(c["a"])(a,o,i,!1,null,null,null);e["a"]=u.exports},b94b:function(t,e,n){"use strict";n("fe42")},babe:function(t,e,n){"use strict";var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:"confirm",duration:"600"}},[t.value?n("div",{staticClass:"confirm",on:{click:function(e){return e.target!==e.currentTarget?null:t.close()}}},[n("div",{staticClass:"confirm__win"},[n("button",{staticClass:"confirm__close",on:{click:function(e){return t.close()}}},[n("svg-ico",{attrs:{name:"close"}})],1),n("div",{staticClass:"confirm__ico"},[t._v("!")]),t.$slots.title?n("div",{staticClass:"confirm__title"},[t._t("title")],2):t._e(),n("div",{ref:"btns",staticClass:"confirm__btns"},[t._t("button"),n("button",{staticClass:"btn btn_color_gray",on:{click:function(e){return t.close()}}},[t._v("Отмена")])],2)])]):t._e()])},i=[],r=n("5b40"),s={name:"ConfirmModal",components:{SvgIco:r["a"]},props:{value:{type:Boolean,default:!1}},watch:{value:function(){var t=this;this.value?(this.bodyScrollToggle(!0),setTimeout((function(){t.$refs.btns.querySelector("button").focus()})),document.addEventListener("keydown",this.keyEscClose)):(setTimeout((function(){return t.bodyScrollToggle(!1)}),300),document.removeEventListener("keydown",this.keyEscClose))}},methods:{close:function(){this.$emit("input",!1)},keyEscClose:function(t){27===t.keyCode&&this.close()},bodyScrollToggle:function(t){var e=document.querySelector(".top-block__body");if(t){var n=this.getScrollbarWidth()+"px";document.body.classList.add("hidden"),e&&(e.style.right=n),document.body.style.paddingRight=n}else document.body.classList.remove("hidden"),e&&(e.style.right=0),document.body.style.padding=""},getScrollbarWidth:function(){var t=0,e=document.createElement("div");e.style.visibility="hidden",e.style.overflow="scroll",document.body.appendChild(e);var n=document.createElement("div");return e.appendChild(n),t=e.offsetWidth-n.offsetWidth,e.parentNode.removeChild(e),t}}},a=s,c=(n("aedc"),n("2877")),u=Object(c["a"])(a,o,i,!1,null,null,null);e["a"]=u.exports},bb51:function(t,e,n){"use strict";n.r(e);var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("TopBlock",[n("Create",{attrs:{placeholder:"Новая заметка",maxlength:70},on:{action:t.create}})],1),n("div",{staticClass:"wrap"},[t.noteList.length?t._l(t.noteList,(function(t,e){return n("Note",{key:e,attrs:{note:t,disabled:""}})})):n("div",{staticClass:"empty-info"},[t._v("Здесь будут ваши заметки, но пока тут пусто")])],2)],1)},i=[],r=n("c0ae"),s=n("b84a"),a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"note",class:{note_fog:t.filteredTodos.length>4}},[n("router-link",{staticClass:"note__link",attrs:{to:{name:"Note",params:{id:t.note.id}}}}),n("div",{staticClass:"note__head"},[n("div",{staticClass:"note__title"},[t._v(t._s(t.note.title))]),n("button",{staticClass:"note__remove btn_ico btn_remove",on:{click:function(e){t.visibleConfirm=!0}}},[n("SvgIco",{attrs:{name:"remove"}})],1)]),n("TodoItems",{attrs:{list:t.filteredTodos,disabled:t.disabled}}),n("ConfirmModal",{scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" Вы уверены, что хотите удалить заметку: "),n("span",[t._v(t._s(t.note.title))]),t._v("? ")]},proxy:!0},{key:"button",fn:function(){return[n("button",{staticClass:"btn btn_color_violet",on:{click:function(e){return t.remove()}}},[t._v("Да")])]},proxy:!0}]),model:{value:t.visibleConfirm,callback:function(e){t.visibleConfirm=e},expression:"visibleConfirm"}})],1)},c=[],u=(n("fb6a"),n("15a4")),l=n("5b40"),d=n("babe"),f={name:"Note",props:{note:{type:Object,required:!0},disabled:Boolean},data:function(){return{visibleConfirm:!1}},components:{TodoItems:u["a"],SvgIco:l["a"],ConfirmModal:d["a"]},computed:{filteredTodos:function(){return this.note.todoList.slice(0,5)}},methods:{remove:function(){this.$store.dispatch("removeNote",this.note.id),this.visibleConfirm=!1}}},v=f,h=(n("b94b"),n("2877")),p=Object(h["a"])(v,a,c,!1,null,null,null),m=p.exports,b={name:"Home",components:{TopBlock:r["a"],Create:s["a"],Note:m},computed:{noteList:function(){return this.$store.state.noteList}},methods:{create:function(t){var e=this;this.$store.dispatch("createNote",t).then((function(t){e.$router.push({name:"Note",params:{id:t}})}))}}},g=b,_=Object(h["a"])(g,o,i,!1,null,null,null);e["default"]=_.exports},bb7c:function(t,e,n){"use strict";n.r(e),e["default"]={id:"close-usage",viewBox:"0 0 14 14",url:n.p+"img/svg.b88bce.svg#close",toString:function(){return this.url}}},bc10:function(t,e,n){"use strict";n.r(e),e["default"]={id:"save-usage",viewBox:"0 0 22 22",url:n.p+"img/svg.b88bce.svg#save",toString:function(){return this.url}}},c082:function(t,e,n){"use strict";n.r(e);var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.note?n("div",[n("TopBlock",{staticClass:"full-note__top"},[n("button",{staticClass:"full-note__back btn btn_color_light",attrs:{title:"Назад"},on:{click:function(e){return t.back()}}},[n("SvgIco",{attrs:{name:"arrow"}})],1),n("div",{staticClass:"full-note__title",class:{reduce_title:t.note.title.length>50,hide_title:t.visibleAddMenu}},[t._v(t._s(t.note.title))]),n("div",{staticClass:"full-note__actions",class:{actions_visible:t.visibleAddMenu}},[n("button",{staticClass:"full-note__undo btn btn_color_light",attrs:{title:"Отменить",disabled:t.disabledUndo},on:{click:function(e){return t.undo()}}},[n("SvgIco",{attrs:{name:"arrow-undo"}})],1),n("button",{staticClass:"full-note__redo btn btn_color_light",attrs:{title:"Повторить",disabled:t.disabledRedo},on:{click:function(e){return t.redo()}}},[n("SvgIco",{attrs:{name:"arrow-redo"}})],1),n("button",{staticClass:"full-note__remove btn btn_color_red",attrs:{title:"Удалить"},on:{click:function(e){t.removeConfirm=!0}}},[n("SvgIco",{attrs:{name:"remove"}})],1),n("button",{staticClass:"full-note__save btn btn_color_green",class:{saved:t.saved},attrs:{disabled:t.saved},on:{click:function(e){return t.save(!0)}}},[n("transition",{attrs:{name:"fade"}},[t.saved?n("p",[t._v("Готово")]):t._e()]),n("span",[t._v("Сохранить")]),n("SvgIco",{attrs:{name:"save"}})],1)]),n("button",{staticClass:"full-note__more btn btn_color_light",attrs:{title:"Дополнительно"},on:{click:function(e){t.visibleAddMenu=!t.visibleAddMenu}}},[n("SvgIco",{attrs:{name:"dots"}})],1)]),n("div",{staticClass:"wrap"},[n("div",{staticClass:"todo-list"},[n("Create",{staticClass:"todo__create",attrs:{placeholder:"Новая задача"},on:{action:t.addTodo}}),n("TodoItems",{attrs:{list:t.note.todoList},on:{change:t.changeTodo,remove:t.removeTodo}})],1)]),n("ConfirmModal",{scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" Заметка была изменена, вы уверены что хотите выйти без сохранения? ")]},proxy:!0},{key:"button",fn:function(){return[n("button",{staticClass:"btn btn_color_violet",on:{click:function(e){return t.exitWithSave()}}},[t._v("Сохранить и выйти")]),n("button",{staticClass:"btn btn_color_gray",on:{click:function(e){return t.exitWithoutSave()}}},[t._v("Выйти без сохранения")])]},proxy:!0}],null,!1,1390709922),model:{value:t.saveConfirm,callback:function(e){t.saveConfirm=e},expression:"saveConfirm"}}),n("ConfirmModal",{scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" Вы уверены, что хотите удалить эту заметку? ")]},proxy:!0},{key:"button",fn:function(){return[n("button",{staticClass:"btn btn_color_violet",on:{click:function(e){return t.remove()}}},[t._v("Да")])]},proxy:!0}],null,!1,3703427322),model:{value:t.removeConfirm,callback:function(e){t.removeConfirm=e},expression:"removeConfirm"}})],1):t._e()])},i=[],r=(n("a434"),n("ac1f"),n("5319"),n("7db0"),n("c0ae")),s=n("b84a"),a=n("15a4"),c=n("5b40"),u=n("babe"),l={components:{TopBlock:r["a"],Create:s["a"],TodoItems:a["a"],SvgIco:c["a"],ConfirmModal:u["a"]},data:function(){return{history:[],historyStep:0,savedStep:0,saved:!1,saveConfirm:!1,removeConfirm:!1,visibleAddMenu:!1}},created:function(){var t=this;this.$store&&(this.history.push(JSON.stringify(this.$store.state)),this.$store.subscribe((function(e,n){"removeNote"!==e.type&&(t.history.splice(t.historyStep+1),t.history.push(JSON.stringify(n)),++t.historyStep)})))},beforeRouteLeave:function(t,e,n){this.existHistory&&this.savedStep!==this.historyStep?(this.saveConfirm=!0,n(!1)):n()},mounted:function(){this.$store.state.noteList.length&&!this.note&&this.$router.replace({name:"Home"})},computed:{noteId:function(){return+this.$route.params.id},note:function(){var t=this;return Array.isArray(this.$store.state.noteList)&&this.$store.state.noteList.find((function(e){return t.noteId===e.id}))||!1},existHistory:function(){return this.history.length>1},disabledUndo:function(){return this.historyStep<=0},disabledRedo:function(){return this.historyStep>=this.history.length-1}},methods:{back:function(){this.existHistory&&this.savedStep!==this.historyStep?this.saveConfirm=!0:this.goHome()},remove:function(){var t=this;this.removeConfirm=!1,setTimeout((function(){t.$store.dispatch("removeNote",t.note.id),t.goHome()}),350)},changeTodo:function(t){this.$store.commit("updateTodo",{noteId:this.note.id,todoId:t.id,prop:t.prop,val:t.val})},addTodo:function(t){this.$store.dispatch("addTodo",{noteId:this.note.id,title:t})},undo:function(){--this.historyStep,this.changeHistory()},redo:function(){++this.historyStep,this.changeHistory()},changeHistory:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.historyStep;this.$store.replaceState(JSON.parse(this.history[t]))},save:function(t){var e=this;t&&(this.saved=!0,setTimeout((function(){e.saved=!1}),2e3)),this.$store.dispatch("save"),this.savedStep=this.historyStep,document.dispatchEvent(new CustomEvent("editOff"))},exitWithSave:function(){var t=this;this.save(),this.history=[],this.saveConfirm=!1,setTimeout((function(){t.goHome()}),350)},exitWithoutSave:function(){var t=this;this.changeHistory(0),this.history=[],this.saveConfirm=!1,setTimeout((function(){t.goHome()}),350)},removeTodo:function(t){this.$store.commit("removeTodo",{noteId:this.note.id,todoId:t})},goHome:function(){this.$router.push({name:"Home"})}}},d=l,f=(n("009a"),n("2877")),v=Object(f["a"])(d,o,i,!1,null,null,null);e["default"]=v.exports},c0ae:function(t,e,n){"use strict";var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"top-block"},[n("div",{staticClass:"top-block__body",class:{collapse:t.collapse}},[n("div",{staticClass:"wrap"},[t._t("default")],2)])])},i=[],r={name:"TopBlock",data:function(){return{collapse:!1}},beforeMount:function(){window.addEventListener("scroll",this.scroll)},destroyed:function(){window.removeEventListener("scroll",this.scroll)},methods:{scroll:function(){this.collapse=window.scrollY>=40}}},s=r,a=(n("47a1"),n("2877")),c=Object(a["a"])(s,o,i,!1,null,null,null);e["a"]=c.exports},c1ad:function(t,e,n){},c62d:function(t,e,n){"use strict";n.r(e),e["default"]={id:"arrow-redo-usage",viewBox:"0 0 29 12",url:n.p+"img/svg.b88bce.svg#arrow-redo",toString:function(){return this.url}}},c8d2:function(t,e,n){var o=n("d039"),i=n("5899"),r="​᠎";t.exports=function(t){return o((function(){return!!i[t]()||r[t]()!=r||i[t].name!==t}))}},ca69:function(t,e,n){},d4d9:function(t,e,n){"use strict";n.r(e),e["default"]={id:"arrow-usage",viewBox:"0 0 20 14",url:n.p+"img/svg.b88bce.svg#arrow",toString:function(){return this.url}}},d784:function(t,e,n){"use strict";n("ac1f");var o=n("6eeb"),i=n("9263"),r=n("d039"),s=n("b622"),a=n("9112"),c=s("species"),u=RegExp.prototype,l=!r((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),d=function(){return"$0"==="a".replace(/./,"$0")}(),f=s("replace"),v=function(){return!!/./[f]&&""===/./[f]("a","$0")}(),h=!r((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2!==n.length||"a"!==n[0]||"b"!==n[1]}));t.exports=function(t,e,n,f){var p=s(t),m=!r((function(){var e={};return e[p]=function(){return 7},7!=""[t](e)})),b=m&&!r((function(){var e=!1,n=/a/;return"split"===t&&(n={},n.constructor={},n.constructor[c]=function(){return n},n.flags="",n[p]=/./[p]),n.exec=function(){return e=!0,null},n[p](""),!e}));if(!m||!b||"replace"===t&&(!l||!d||v)||"split"===t&&!h){var g=/./[p],_=n(p,""[t],(function(t,e,n,o,r){var s=e.exec;return s===i||s===u.exec?m&&!r?{done:!0,value:g.call(e,n,o)}:{done:!0,value:t.call(n,e,o)}:{done:!1}}),{REPLACE_KEEPS_$0:d,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:v}),y=_[0],x=_[1];o(String.prototype,t,y),o(u,p,2==e?function(t,e){return x.call(t,this,e)}:function(t){return x.call(t,this)})}f&&a(u[p],"sham",!0)}},eec0:function(t,e,n){"use strict";n.r(e),e["default"]={id:"arrow-undo-usage",viewBox:"0 0 29 12",url:n.p+"img/svg.b88bce.svg#arrow-undo",toString:function(){return this.url}}},fb6a:function(t,e,n){"use strict";var o=n("23e7"),i=n("861d"),r=n("e8b5"),s=n("23cb"),a=n("50c4"),c=n("fc6a"),u=n("8418"),l=n("b622"),d=n("1dde"),f=d("slice"),v=l("species"),h=[].slice,p=Math.max;o({target:"Array",proto:!0,forced:!f},{slice:function(t,e){var n,o,l,d=c(this),f=a(d.length),m=s(t,f),b=s(void 0===e?f:e,f);if(r(d)&&(n=d.constructor,"function"!=typeof n||n!==Array&&!r(n.prototype)?i(n)&&(n=n[v],null===n&&(n=void 0)):n=void 0,n===Array||void 0===n))return h.call(d,m,b);for(o=new(void 0===n?Array:n)(p(b-m,0)),l=0;m<b;m++,l++)m in d&&u(o,l,d[m]);return o.length=l,o}})},fe42:function(t,e,n){}}]);